# VisualDependencies
Адрес публичного репозитория: https://github.com/MelancholicBastard/VisualDependencies

Проект для анализа и визуализации зависимостей пакета из Maven репозитория

## Структура исходников

### Пакет `root`
- `Main.kt`  
  Точка входа приложения: парсит аргументы загружает конфигурацию, строит граф зависимостей (тестовый репозиторий или Maven), сохраняет DOT и пытается сгенерировать SVG.

### Пакет `config`
- `Config.kt`  
  Модели конфигурации (поля конфигурационного файла, имена пакетов, путь к репозиторию, глубина, выходной файл и т.д.).
- `ConfigLoader.kt`  
  Загрузка и валидация конфигурации из CSV; возвращает либо `Ok(config)`, либо `Error` с набором сообщений.
- `TestRepoMode.kt`  
  Enum/тип для выбора режима работы: `TEST` (локальный тестовый репозиторий) или `URL`/`MAVEN` (подгрузка по координатам).

### Пакет `graph`
- `DependencyGraph.kt`  
  Структуры данных графа: вершины, рёбра, корень, обнаруженные циклы, усечённые узлы при ограничении глубины.
- `DependencyGraphBuilder.kt`  
  Логика построения графа для тестового репозитория и для Maven-источника (рекурсивный обход зависимостей, ограничение глубины, обработка циклов).
- `GraphEdge.kt`  
  Представление ребра в графе (от, к, приоритет/тип, возможные метаданные для визуализации).
- `GraphvizRenderer.kt`  
  Преобразование внутренней модели `DependencyGraph` в DOT-строку для Graphviz (настройки стилей, группировка пакетов).

### Пакет `maven`
- `Dependency.kt`  
  Модель зависимости (groupId, artifactId, version, scope и т.д.).
- `MavenCoordinates.kt`  
  Парсер и валидатор координат Maven (формат `group:artifact:version`).
- `MavenRepository.kt`  
  Утилиты для получения POM/артефактов по URL/репозиторию (HTTP/кэширование/парсинг).
- `PomParser.kt`  
  Парсер POM-файлов для извлечения зависимостей.

### Пакет `testrepo`
- `TestRepository.kt`  
  Загрузка простых текстовых описаний тестового репозитория (файлы в `resources/testrepo`) и предоставление интерфейса для сборщика графа.

## Ресурсы
- `src/main/resources/config.test.csv`  
  Пример конфигурации для режима `TEST`.
- `src/main/resources/config.url1.csv`  
- `src/main/resources/config.url2.csv`
- `src/main/resources/config.url3.csv`  
  Примеры конфигурации для URL/Maven.
- `src/main/resources/testrepo/simple.txt`  
  Тестовый репозиторий — простой случай.
- `src/main/resources/testrepo/depth.txt`  
  Тестовый репозиторий для проверки усечения по глубине.
- `src/main/resources/testrepo/cycle.txt`  
  Тестовый репозиторий с циклическими зависимостями.

## Примечания
- Генерация SVG по умолчанию использует локальный Graphviz; в проекте есть обработка ошибок, если внешние движки/движок Java недоступны — в этом случае остаётся DOT-файл
- CSV-примеры в `resources` можно использовать для демонстрации трёх разных визуализаций (см. `config.test.csv`, `config.url1.csv`, `config.url2.csv`/`config.url3.csv`)
